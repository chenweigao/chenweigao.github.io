---
layout: article
title: Flask Microframework, MongoDB
key: flask
modify_date: 2018-7-25
tags: Python
comment: true
mathjax: true
---

<!--more-->

# Video Streaming with Flask

# Flask Test

​	The normal test in python includes **unittest, pytest, nose**, we use the nose to make a test.

# Basic Structure

## context

**application context and request context**：

| variable      | context             | description                                          |
| ------------- | ------------------- | ---------------------------------------------------- |
| `current_app` | application context | The application instance for the active application. |
| `g`           | ac                  |                                                      |
| `request`     | request context     |                                                      |
| `session`     | rc                  |                                                      |

```python
from flask import current_app
```



# Jinjia2

## Rendering templates

```python
@app.route('/user/<name>')
def user(name):
    return render_template('user.html', name=name)
```

The function `render_template` takes the filename of the template as its first argument, the addtional arguments are `key/value` pairs **that represent actual values for variables referenced in the template**.

*user.html*like this:

```
{%- raw -%}
<h1>Hello, {{ name|capitalize }}!</h1>
{% endraw %}
```

In this example, we use the **variavble filters**: `safe`, `capitalize`(converts the first character of the value to uppercase), `lower`,`upper`, `title`, `trim`(removes leading and trailing whitespace from the value), `striptags`(removes any HTML tags from the value before rendering).



# MongoDB

database – collection – document– field – index.

